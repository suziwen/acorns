{"componentChunkName":"component---node-modules-suziwen-gatsby-theme-sculpting-src-templates-template-blog-post-js","path":"/daily-notes/2020-04-29","result":{"data":{"zipFile":{"publicURL":"/acorns/static/f82dca2ddf3d13fc1606f433b0014a84/2020-4-29 工作日志.zip"},"site":{"siteMetadata":{"siteUrl":"https://suziwen.github.io/acorns"}},"storyWriterMarkdown":{"id":"84b8a8f4-4adb-5e48-aee3-6de86f417194","html":"\n\n\t<div class=\"preview html_preview xsj_export_zip\"><div style=\"overflow: hidden; position: absolute; top: 0; height: 1px; width: auto; padding: 0; border: 0; margin: 0; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;\"><svg><defs id=\"MathJax_SVG_glyphs\"/><defs xmlns=\"http://www.w3.org/2000/svg\"><filter xmlns=\"http://www.w3.org/2000/svg\" id=\"dropshadow\" height=\"130%\">      <fegaussianblur in=\"SourceAlpha\" stddeviation=\"3\"/>       <feoffset dx=\"2\" dy=\"2\" result=\"offsetblur\"/>       <femerge>         <femergenode/>        <femergenode in=\"SourceGraphic\"/>       </femerge>    </filter><filter id=\"editing-stripe-bk\" filterunits=\"userSpaceOnUse\" x=\"-100%\" y=\"-100%\" width=\"300%\" height=\"300%\"><feflood flood-color=\"#700f0f\" result=\"flood1\"/><feflood flood-color=\"#fff\" flood-opacity=\"0.5\" result=\"flood2\"/><feimage xlink:href=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAwcHgiIGhlaWdodD0iMTAwMHB4Ij48ZGVmcz48cGF0dGVybiBpZD0icGF0dGVybiIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iMCIgeT0iMCIgd2lkdGg9IjQiIGhlaWdodD0iNCI+PHBhdGggZD0iTSAtNCAtNCBMIDggOCBNIC04IC00IEwgNCA4IE0gLTQgLTggTCA4IDQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI3BhdHRlcm4pIi8+PC9zdmc+\" x=\"0\" y=\"0\" width=\"2000\" height=\"1000\" result=\"image\"/><fetile in=\"image\" result=\"tile\"/><fecomposite operator=\"in\" in=\"flood1\" in2=\"tile\" result=\"tile2\"/><fegaussianblur in=\"SourceAlpha\" stddeviation=\"10\" result=\"blur\"/><fecomposite operator=\"in\" in=\"tile2\" in2=\"blur\" result=\"cloud\"/><femorphology operator=\"dilate\" radius=\"2\" in=\"SourceAlpha\" result=\"dilate\"/><fecomposite operator=\"in\" in=\"flood2\" in2=\"dilate\" result=\"base\"/><femerge><femergenode in=\"cloud\"/><femergenode in=\"base\"/><femergenode in=\"SourceGraphic\"/></femerge></filter></defs></svg></div><p class=\"xsj_paragraph xsj_paragraph_level_0\"></p><div class=\"toc mindmap_toc mindmap_container\" data-info=\"direction=lr\" data-hash=\"d778a99511c0a0d510ba07a57a840a37_mindmap_toc\"><div class=\"xsj_mindmap xsj_mindmap_toc\"><svg id=\"xsj_mindmap_toc_1588176303528\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" class=\"xsj_svg_viewbox\" style=\"max-width:1001px;max-height:422.5px;\" viewbox=\"0 0 1001 422.5\" width=\"100%\" height=\"100%\"><g transform=\"translate(316.5,289) scale(1)\"><g class=\"markmap-link\" style=\"fill:none;\"><path stroke=\"#3366cc\" stroke-width=\"2\" d=\"M248.5,-121.5 L253.5,-121.5 C289.5,-121.5 284.5,-5 320.5,-5 L322.5,-5\"/><polygon class=\"markmap-link-polygon\" stroke-width=\"0\" transform=\"translate(248.5, -121.5)\" points=\"0,-2 5,0 0,2 -5,0\" style=\"fill: white;\"/><g transform=\"translate(320.5,-5)\"><path class=\"markmap-node-path\" d=\"M0,0L151,0\" stroke-width=\"2\" stroke=\"#3366cc\"/><polygon class=\"markmap-node-polygon\" stroke-width=\"0\" transform=\"translate(151, 0)\" points=\"0,-1 5,0 0,1 -5,0\" style=\"fill: rgb(51, 102, 204);\"/></g></g><g class=\"markmap-link\" style=\"fill:none;\"><path stroke=\"#3366cc\" stroke-width=\"2\" d=\"M248.5,-121.5 L253.5,-121.5 C289.5,-121.5 284.5,-81 320.5,-81 L322.5,-81\"/><polygon class=\"markmap-link-polygon\" stroke-width=\"0\" transform=\"translate(248.5, -121.5)\" points=\"0,-2 5,0 0,2 -5,0\" style=\"fill: white;\"/><g transform=\"translate(320.5,-81)\"><path class=\"markmap-node-path\" d=\"M0,0L315,0\" stroke-width=\"2\" stroke=\"#3366cc\"/><polygon class=\"markmap-node-polygon\" stroke-width=\"0\" transform=\"translate(315, 0)\" points=\"0,-1 5,0 0,1 -5,0\" style=\"fill: rgb(51, 102, 204);\"/></g></g><g class=\"markmap-link\" style=\"fill:none;\"><path stroke=\"#3366cc\" stroke-width=\"2\" d=\"M248.5,-121.5 L253.5,-121.5 C289.5,-121.5 284.5,-157 320.5,-157 L322.5,-157\"/><polygon class=\"markmap-link-polygon\" stroke-width=\"0\" transform=\"translate(248.5, -121.5)\" points=\"0,-2 5,0 0,2 -5,0\" style=\"fill: white;\"/><g transform=\"translate(320.5,-157)\"><path class=\"markmap-node-path\" d=\"M0,0L174,0\" stroke-width=\"2\" stroke=\"#3366cc\"/><polygon class=\"markmap-node-polygon\" stroke-width=\"0\" transform=\"translate(174, 0)\" points=\"0,-1 5,0 0,1 -5,0\" style=\"fill: rgb(51, 102, 204);\"/></g></g><g class=\"markmap-link\" style=\"fill:none;\"><path stroke=\"#3366cc\" stroke-width=\"2\" d=\"M248.5,-121.5 L253.5,-121.5 C289.5,-121.5 284.5,-233 320.5,-233 L322.5,-233\"/><polygon class=\"markmap-link-polygon\" stroke-width=\"0\" transform=\"translate(248.5, -121.5)\" points=\"0,-2 5,0 0,2 -5,0\" style=\"fill: white;\"/><g transform=\"translate(320.5,-233)\"><path class=\"markmap-node-path\" d=\"M0,0L314,0\" stroke-width=\"2\" stroke=\"#3366cc\"/><polygon class=\"markmap-node-polygon\" stroke-width=\"0\" transform=\"translate(314, 0)\" points=\"0,-1 5,0 0,1 -5,0\" style=\"fill: rgb(51, 102, 204);\"/></g></g><g class=\"markmap-link\" style=\"fill:none;\"><path stroke=\"#dc3912\" stroke-width=\"4\" d=\"M80.5,-40.5 L85.5,-40.5 C157.5,-40.5 152.5,40.5 188.5,40.5 L190.5,40.5\"/><polygon class=\"markmap-link-polygon\" stroke-width=\"0\" transform=\"translate(80.5, -40.5)\" points=\"0,-3 5,0 0,3 -5,0\" style=\"fill: white;\"/><g transform=\"translate(188.5,40.5)\"><path class=\"markmap-node-path\" d=\"M0,0L39,0\" stroke-width=\"4\" stroke=\"#dc3912\"/><polygon class=\"markmap-node-polygon\" stroke-width=\"0\" transform=\"translate(39, 0)\" points=\"0,-2 5,0 0,2 -5,0\" style=\"fill: rgb(220, 57, 18);\"/></g></g><g class=\"markmap-link\" style=\"fill:none;\"><path stroke=\"#ff9900\" stroke-width=\"4\" d=\"M80.5,-40.5 L85.5,-40.5 C157.5,-40.5 152.5,-40.5 188.5,-40.5 L190.5,-40.5\"/><polygon class=\"markmap-link-polygon\" stroke-width=\"0\" transform=\"translate(80.5, -40.5)\" points=\"0,-3 5,0 0,3 -5,0\" style=\"fill: white;\"/><g transform=\"translate(188.5,-40.5)\"><path class=\"markmap-node-path\" d=\"M0,0L39,0\" stroke-width=\"4\" stroke=\"#ff9900\"/><polygon class=\"markmap-node-polygon\" stroke-width=\"0\" transform=\"translate(39, 0)\" points=\"0,-2 5,0 0,2 -5,0\" style=\"fill: rgb(255, 153, 0);\"/></g></g><g class=\"markmap-link\" style=\"fill:none;\"><path stroke=\"#3366cc\" stroke-width=\"4\" d=\"M80.5,-40.5 L85.5,-40.5 C157.5,-40.5 152.5,-121.5 188.5,-121.5 L190.5,-121.5\"/><polygon class=\"markmap-link-polygon\" stroke-width=\"0\" transform=\"translate(80.5, -40.5)\" points=\"0,-3 5,0 0,3 -5,0\" style=\"fill: white;\"/><g transform=\"translate(188.5,-121.5)\"><path class=\"markmap-node-path\" d=\"M0,0L59,0\" stroke-width=\"4\" stroke=\"#3366cc\"/><polygon class=\"markmap-node-polygon\" stroke-width=\"0\" transform=\"translate(59, 0)\" points=\"0,-2 5,0 0,2 -5,0\" style=\"fill: rgb(51, 102, 204);\"/></g></g><g class=\"markmap-node markmap-root-node\" transform=\"translate(-224.5,-40.5)\"><polygon class=\"markmap-node-polygon\" stroke-width=\"0\" transform=\"translate(304, 0)\" points=\"0,-3 5,0 0,3 -5,0\" style=\"fill: rgb(51, 102, 204);\"/><g transform=\"translate(1, -36)\"><rect class=\"markmap-node-rect\" rx=\"10\" ry=\"10\" height=\"72\" width=\"303\" fill=\"rgb(78, 156, 255)\" stroke=\"#3366cc\" stroke-width=\"1\"/><text class=\"markmap-node-text\" alignment-baseline=\"middle\" x=\"152.5\" y=\"46\" text-anchor=\"middle\" style=\"font: bolder 30px sans-serif; fill-opacity: 1; fill: rgb(255, 255, 255);\">2020-4-29 工作日志</text></g></g><g class=\"markmap-node\" transform=\"translate(188.5,40.5)\"><a xlink:href=\"#e88bb1e8afad_7\"><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 20px sans-serif; fill: rgb(220, 57, 18); stroke: white; stroke-width: 2px; cursor: pointer;\">英语</text><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 20px sans-serif; fill: rgb(220, 57, 18); cursor: pointer;\">英语</text></a></g><g class=\"markmap-node\" transform=\"translate(188.5,-40.5)\"><a xlink:href=\"#e7949fe6b4bb_6\"><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 20px sans-serif; fill: rgb(255, 153, 0); stroke: white; stroke-width: 2px; cursor: pointer;\">生活</text><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 20px sans-serif; fill: rgb(255, 153, 0); cursor: pointer;\">生活</text></a></g><g class=\"markmap-node\" transform=\"translate(188.5,-121.5)\"><a xlink:href=\"#e5b08fe4b9a6e58ca0_1\"><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 20px sans-serif; fill: rgb(51, 102, 204); stroke: white; stroke-width: 2px; cursor: pointer;\">小书匠</text><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 20px sans-serif; fill: rgb(51, 102, 204); cursor: pointer;\">小书匠</text></a></g><g class=\"markmap-node\" transform=\"translate(320.5,-5)\"><a xlink:href=\"#e5bfabe9809fe588b6e4bd9c20u20e79b98e5bc95e5afbce7a88be5ba8f_5\"><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 15px sans-serif; fill: rgb(51, 102, 204); stroke: white; stroke-width: 2px; cursor: pointer;\">快速制作 u 盘引导程序</text><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 15px sans-serif; fill: rgb(51, 102, 204); cursor: pointer;\">快速制作 u 盘引导程序</text></a></g><g class=\"markmap-node\" transform=\"translate(320.5,-81)\"><a xlink:href=\"#webdav20e58d8fe8aeaee4b88de694afe68c81e98092e5bd92e5889be5bbbae4b88de5ad98e59ca8e79a84e79baee5bd95e997aee9a298_4\"><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 15px sans-serif; fill: rgb(51, 102, 204); stroke: white; stroke-width: 2px; cursor: pointer;\">webdav 协议不支持递归创建不存在的目录问题</text><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 15px sans-serif; fill: rgb(51, 102, 204); cursor: pointer;\">webdav 协议不支持递归创建不存在的目录问题</text></a></g><g class=\"markmap-node\" transform=\"translate(320.5,-157)\"><a xlink:href=\"#docker20e590afe58aa8e5a4b1e8b4a5e58886e69e90e5a484e79086_3\"><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 15px sans-serif; fill: rgb(51, 102, 204); stroke: white; stroke-width: 2px; cursor: pointer;\">docker 启动失败分析处理</text><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 15px sans-serif; fill: rgb(51, 102, 204); cursor: pointer;\">docker 启动失败分析处理</text></a></g><g class=\"markmap-node\" transform=\"translate(320.5,-233)\"><a xlink:href=\"#apache220e8aebee7bdae2020cross-origin20resource20sharing_2\"><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 15px sans-serif; fill: rgb(51, 102, 204); stroke: white; stroke-width: 2px; cursor: pointer;\">apache2 设置  cross-origin resource sharing</text><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 15px sans-serif; fill: rgb(51, 102, 204); cursor: pointer;\">apache2 设置  cross-origin resource sharing</text></a></g><g class=\"annotation-group\"><g class=\"annotations\"/></g></g></svg></div></div><p></p>\n<h1 class=\"xsj_heading_hash xsj_heading xsj_heading_h1\" id=\"e5b08fe4b9a6e58ca0_1\"><div class=\"xiaoshujiang_element xsj_anchor\">\n  <a name=\"e5b08fe4b9a6e58ca0_1\" class=\"blank_anchor_name\"></a><a id=\"e5b08fe4b9a6e58ca0_1\" class=\"blank_anchor_id\"></a><a name=\"小书匠\" class=\"blank_anchor_name\"></a><a id=\"小书匠\" class=\"blank_anchor_id\"></a>\n</div>\n<span class=\"xsj_heading_content\">小书匠</span></h1>\n<h2 class=\"xsj_heading_hash xsj_heading xsj_heading_h2\" id=\"apache220e8aebee7bdae2020cross-origin20resource20sharing_2\"><div class=\"xiaoshujiang_element xsj_anchor\">\n  <a name=\"apache220e8aebee7bdae2020cross-origin20resource20sharing_2\" class=\"blank_anchor_name\"></a><a id=\"apache220e8aebee7bdae2020cross-origin20resource20sharing_2\" class=\"blank_anchor_id\"></a><a name=\"apache2-设置-cross-origin-resource-sharing\" class=\"blank_anchor_name\"></a><a id=\"apache2-设置-cross-origin-resource-sharing\" class=\"blank_anchor_id\"></a>\n</div>\n<span class=\"xsj_heading_content\">apache2 设置  cross-origin resource sharing</span></h2>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">现在的浏览器,有些 ajax 请求,会先执行 <code>pre-flight</code> , 导致即使服务器配置了 <code>Access-Control-Allow-Origin</code>, 依然会报跨域请求的错误.</p>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">这里记录下在 apache 里的解决方法.</p>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">打开 rewrite mod</p>\n<div class=\"xiaoshujiang_code_container\"><div class=\"xiaoshujiang_code_title_container\"><span class=\"xiaoshujiang_code_title\">conf/httpd.conf</span><span class=\"xiaoshujiang_code_infos\">apache&nbsp;&nbsp;&nbsp;&nbsp;1行</span><div style=\"clear: both;\" class=\"xiaoshujiang_code_clear\"></div></div><div class=\"xiaoshujiang_pre\"><div class=\"language-apache hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span><span class=\"hljs-attribute\"><span class=\"hljs-nomarkup\">LoadModule</span></span> rewrite_module modules/mod_rewrite.so<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<div class=\"xiaoshujiang_code_container\"><div class=\"xiaoshujiang_code_title_container\"><span class=\"xiaoshujiang_code_title\">conf/conf-available/dav.conf</span><span class=\"xiaoshujiang_code_infos\">apache&nbsp;&nbsp;&nbsp;&nbsp;10行</span><div style=\"clear: both;\" class=\"xiaoshujiang_code_clear\"></div></div><div class=\"xiaoshujiang_pre\"><div class=\"language-apache hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span><span class=\"hljs-comment\"># Always set these headers.</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"2\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">2</span><span class=\"hljs-attribute\"><span class=\"hljs-nomarkup\">Header</span></span> always set Access-Control-Allow-Origin <span class=\"hljs-string\">\"*\"</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"3\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">3</span><span class=\"hljs-attribute\"><span class=\"hljs-nomarkup\">Header</span></span> always set Access-Control-Allow-Methods <span class=\"hljs-string\">\"POST, GET, OPTIONS, DELETE, PUT\"</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"4\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">4</span><span class=\"hljs-attribute\"><span class=\"hljs-nomarkup\">Header</span></span> always set Access-Control-Max-Age <span class=\"hljs-string\">\"1000\"</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"5\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">5</span><span class=\"hljs-attribute\"><span class=\"hljs-nomarkup\">Header</span></span> always set Access-Control-Allow-Headers <span class=\"hljs-string\">\"x-requested-with, Content-Type, origin, authorization, accept, client-security-token\"</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"6\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">6</span> <span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"7\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">7</span><span class=\"hljs-comment\"># Added a rewrite to respond with a 200 SUCCESS on every OPTIONS request.</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"8\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">8</span><span class=\"hljs-attribute\"><span class=\"hljs-nomarkup\">RewriteEngine</span></span> <span class=\"hljs-literal\">On</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"9\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">9</span><span class=\"hljs-attribute\"><span class=\"hljs-nomarkup\">RewriteCond</span></span> <span class=\"hljs-variable\">%{REQUEST_METHOD}</span> OPTIONS<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"10\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">10</span><span class=\"hljs-attribute\"><span class=\"hljs-nomarkup\">RewriteRule</span></span> ^(.*)$ <span class=\"hljs-number\">$1</span><span class=\"hljs-meta\"> [R=200,L]</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">参考<a href=\"https://benjaminhorn.io/code/setting-cors-cross-origin-resource-sharing-on-apache-with-correct-response-headers-allowing-everything-through/\" class=\"xsj_link xsj_manu_link\">文章</a></p>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\"><a href=\"https://suziwen.github.io/acorns/tech/setting-cors-cross-origin-resource-sharing-on-apache-with-correct-response-headers-allowing-everything-through\" class=\"xsj_link xsj_auto_link\">https://suziwen.github.io/acorns/tech/setting-cors-cross-origin-resource-sharing-on-apache-with-correct-response-headers-allowing-everything-through</a></p>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">即使按照上面的方法,还是会有 401 的错误, 最后版本.</p>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">添加 LimitExcept OPTIONS 信息</p>\n<div class=\"xiaoshujiang_code_container\"><div class=\"xiaoshujiang_pre\"><div class=\"language-apache hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span><span class=\"hljs-section\">&lt;Directory \"/var/lib/dav/data/\"&gt;</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"2\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">2</span>  <span class=\"hljs-attribute\">Dav</span> <span class=\"hljs-literal\">On</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"3\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">3</span>  <span class=\"hljs-attribute\"><span class=\"hljs-nomarkup\">Options</span></span> Indexes FollowSymLinks<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"4\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">4</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"5\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">5</span>  <span class=\"hljs-comment\"># Always set these headers.</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"6\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">6</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"7\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">7</span>  <span class=\"hljs-attribute\"><span class=\"hljs-nomarkup\">Header</span></span> always set Access-Control-Allow-Origin <span class=\"hljs-string\">\"*\"</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"8\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">8</span>  <span class=\"hljs-attribute\"><span class=\"hljs-nomarkup\">Header</span></span> always set Access-Control-Allow-Headers <span class=\"hljs-string\">\"*\"</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"9\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">9</span>  <span class=\"hljs-attribute\"><span class=\"hljs-nomarkup\">Header</span></span> always set Access-Control-Expose-Headers <span class=\"hljs-string\">\"ETag\"</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"10\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">10</span>  <span class=\"hljs-attribute\"><span class=\"hljs-nomarkup\">Header</span></span> always set Access-Control-Allow-Methods <span class=\"hljs-string\">\"*\"</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"11\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">11</span>  <span class=\"hljs-attribute\"><span class=\"hljs-nomarkup\">Header</span></span> always set Access-Control-Allow-Credentials <span class=\"hljs-string\">\"true\"</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"12\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">12</span>  <span class=\"hljs-comment\"># Added a rewrite to respond with a 200 SUCCESS on every OPTIONS request.</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"13\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">13</span>  <span class=\"hljs-attribute\"><span class=\"hljs-nomarkup\">RewriteEngine</span></span> <span class=\"hljs-literal\">On</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"14\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">14</span>  <span class=\"hljs-attribute\"><span class=\"hljs-nomarkup\">RewriteCond</span></span> <span class=\"hljs-variable\">%{REQUEST_METHOD}</span> OPTIONS<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"15\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">15</span>  <span class=\"hljs-attribute\"><span class=\"hljs-nomarkup\">RewriteRule</span></span> ^(.*)$ blank.html<span class=\"hljs-meta\"> [R=200,L,E=HTTP_ORIGIN:%{HTTP:ORIGIN}]</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"16\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">16</span>  <span class=\"hljs-attribute\">AuthType</span> Basic<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"17\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">17</span>  <span class=\"hljs-attribute\">AuthName</span> <span class=\"hljs-string\">\"WebDAV\"</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"18\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">18</span>  <span class=\"hljs-attribute\">AuthUserFile</span> <span class=\"hljs-string\">\"/user.passwd\"</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"19\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">19</span>  <span class=\"hljs-section\">&lt;LimitExcept OPTIONS&gt;</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"20\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">20</span>    <span class=\"hljs-attribute\">Require</span> valid-user<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"21\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">21</span>  <span class=\"hljs-section\">&lt;/LimitExcept&gt;</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"22\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">22</span><span class=\"hljs-section\">&lt;/Directory&gt;</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"23\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">23</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<h2 class=\"xsj_heading_hash xsj_heading xsj_heading_h2\" id=\"docker20e590afe58aa8e5a4b1e8b4a5e58886e69e90e5a484e79086_3\"><div class=\"xiaoshujiang_element xsj_anchor\">\n  <a name=\"docker20e590afe58aa8e5a4b1e8b4a5e58886e69e90e5a484e79086_3\" class=\"blank_anchor_name\"></a><a id=\"docker20e590afe58aa8e5a4b1e8b4a5e58886e69e90e5a484e79086_3\" class=\"blank_anchor_id\"></a><a name=\"docker-启动失败分析处理\" class=\"blank_anchor_name\"></a><a id=\"docker-启动失败分析处理\" class=\"blank_anchor_id\"></a>\n</div>\n<span class=\"xsj_heading_content\">docker 启动失败分析处理</span></h2>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">由于直接在 docker 容器里修改了文件,导致 容器无法正常启动.(<strong class=\"markdown_strong_asterisk\">注:不建议直接在容器内修改文件</strong>)</p>\n<div class=\"xiaoshujiang_code_container\"><div class=\"xiaoshujiang_pre\"><div class=\"language-bash hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span>docker ps <span class=\"hljs-_\">-a</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"2\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">2</span>docker logs {容器id}<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">报错信息</p>\n<div class=\"xiaoshujiang_code_container\"><div class=\"xiaoshujiang_pre\"><div class=\"nohighlight hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span>Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">重新修改配置文件 , 将 rewrite mods 打开</p>\n<div class=\"xiaoshujiang_code_container\"><div class=\"xiaoshujiang_pre\"><div class=\"language-bash hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span>docker cp {容器id}:/usr/<span class=\"hljs-built_in\">local</span>/apache2/conf/conf-available/dav.conf ./<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"2\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">2</span>vi dav.conf<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"3\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">3</span>docker cp ./dav.conf {容器id}:/usr/<span class=\"hljs-built_in\">local</span>/apache2/conf/conf-available/<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<h2 class=\"xsj_heading_hash xsj_heading xsj_heading_h2\" id=\"webdav20e58d8fe8aeaee4b88de694afe68c81e98092e5bd92e5889be5bbbae4b88de5ad98e59ca8e79a84e79baee5bd95e997aee9a298_4\"><div class=\"xiaoshujiang_element xsj_anchor\">\n  <a name=\"webdav20e58d8fe8aeaee4b88de694afe68c81e98092e5bd92e5889be5bbbae4b88de5ad98e59ca8e79a84e79baee5bd95e997aee9a298_4\" class=\"blank_anchor_name\"></a><a id=\"webdav20e58d8fe8aeaee4b88de694afe68c81e98092e5bd92e5889be5bbbae4b88de5ad98e59ca8e79a84e79baee5bd95e997aee9a298_4\" class=\"blank_anchor_id\"></a><a name=\"webdav-协议不支持递归创建不存在的目录问题\" class=\"blank_anchor_name\"></a><a id=\"webdav-协议不支持递归创建不存在的目录问题\" class=\"blank_anchor_id\"></a>\n</div>\n<span class=\"xsj_heading_content\">webdav 协议不支持递归创建不存在的目录问题</span></h2>\n<div class=\"xiaoshujiang_code_container\"><div class=\"xiaoshujiang_pre\"><div class=\"language-coffeescript hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span><span class=\"hljs-comment\"># 逆向递归创建目录</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"2\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">2</span><span class=\"hljs-function\"><span class=\"hljs-title\">ensureDir</span> = <span class=\"hljs-params\">(client, paths, cb)</span>-&gt;</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"3\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">3</span>  client.exists(paths.join(<span class=\"hljs-string\">\"/\"</span>)).<span class=\"hljs-keyword\">then</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">(isExists)</span>-&gt;</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"4\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">4</span>    <span class=\"hljs-keyword\">if</span> isExists<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"5\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">5</span>      <span class=\"hljs-comment\"># 结束递归</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"6\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">6</span>      cb()<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"7\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">7</span>    <span class=\"hljs-keyword\">else</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"8\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">8</span>      <span class=\"hljs-keyword\">if</span> paths.length &lt;= <span class=\"hljs-number\">1</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"9\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">9</span>        <span class=\"hljs-comment\"># 创建最开始一层的目录,并结束递归</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"10\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">10</span>        client.createDirectory(paths.join(<span class=\"hljs-string\">\"/\"</span>)).<span class=\"hljs-keyword\">then</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">()</span>-&gt;</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"11\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">11</span>          cb()<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"12\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">12</span>        ).<span class=\"hljs-keyword\">catch</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">(error)</span>-&gt;</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"13\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">13</span>          cb(error)<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"14\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">14</span>        )<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"15\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">15</span>      <span class=\"hljs-keyword\">else</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"16\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">16</span>        ensureDir(client, paths.slice(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">-1</span>), <span class=\"hljs-function\"><span class=\"hljs-params\">(error)</span>-&gt;</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"17\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">17</span>          <span class=\"hljs-keyword\">if</span> error<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"18\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">18</span>            cb(error)<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"19\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">19</span>          <span class=\"hljs-keyword\">else</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"20\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">20</span>            client.createDirectory(paths.join(<span class=\"hljs-string\">\"/\"</span>)).<span class=\"hljs-keyword\">then</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">()</span>-&gt;</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"21\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">21</span>              cb()<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"22\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">22</span>            ).<span class=\"hljs-keyword\">catch</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">(error)</span>-&gt;</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"23\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">23</span>              cb(error)<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"24\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">24</span>            )<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"25\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">25</span>        )<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"26\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">26</span>  )<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<h2 class=\"xsj_heading_hash xsj_heading xsj_heading_h2\" id=\"e5bfabe9809fe588b6e4bd9c20u20e79b98e5bc95e5afbce7a88be5ba8f_5\"><div class=\"xiaoshujiang_element xsj_anchor\">\n  <a name=\"e5bfabe9809fe588b6e4bd9c20u20e79b98e5bc95e5afbce7a88be5ba8f_5\" class=\"blank_anchor_name\"></a><a id=\"e5bfabe9809fe588b6e4bd9c20u20e79b98e5bc95e5afbce7a88be5ba8f_5\" class=\"blank_anchor_id\"></a><a name=\"快速制作-u-盘引导程序\" class=\"blank_anchor_name\"></a><a id=\"快速制作-u-盘引导程序\" class=\"blank_anchor_id\"></a>\n</div>\n<span class=\"xsj_heading_content\">快速制作 u 盘引导程序</span></h2>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\"><a href=\"https://github.com/ventoy/Ventoy\" class=\"xsj_link xsj_auto_link\">https://github.com/ventoy/Ventoy</a></p>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\"><a href=\"https://www.ventoy.net/en/index.html\" class=\"xsj_link xsj_auto_link\">https://www.ventoy.net/en/index.html</a></p>\n<h1 class=\"xsj_heading_hash xsj_heading xsj_heading_h1\" id=\"e7949fe6b4bb_6\"><div class=\"xiaoshujiang_element xsj_anchor\">\n  <a name=\"e7949fe6b4bb_6\" class=\"blank_anchor_name\"></a><a id=\"e7949fe6b4bb_6\" class=\"blank_anchor_id\"></a><a name=\"生活\" class=\"blank_anchor_name\"></a><a id=\"生活\" class=\"blank_anchor_id\"></a>\n</div>\n<span class=\"xsj_heading_content\">生活</span></h1>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">一声哈武镖车走，年年江湖平安回</p>\n<h1 class=\"xsj_heading_hash xsj_heading xsj_heading_h1\" id=\"e88bb1e8afad_7\"><div class=\"xiaoshujiang_element xsj_anchor\">\n  <a name=\"e88bb1e8afad_7\" class=\"blank_anchor_name\"></a><a id=\"e88bb1e8afad_7\" class=\"blank_anchor_id\"></a><a name=\"英语\" class=\"blank_anchor_name\"></a><a id=\"英语\" class=\"blank_anchor_id\"></a>\n</div>\n<span class=\"xsj_heading_content\">英语</span></h1>\n</div>\n\n","excerpt":"现在的浏览器,有些 ajax 请求,会先执行 pre-flight , 导致即使服务器配置了 Access-Control-Allow-Origin, 依然会报跨域请求的错误.\n这里记录下在 apache 里的解决方法.\n打开 rewrite mod\n参考文章\nhttps://s...","docType":"posts","slug":"daily-notes/2020-04-29","title":"2020-4-29 工作日志","customCss":"/**xsjCSSMeta\npreviewTheme: story_poster\nxsjCSSMeta**/\n","createDate":"April 29, 2020","updateDate":"April 29, 2020","tags":["远程工作","工作日志","小书匠"]}},"pageContext":{"slug":"daily-notes/2020-04-29","zipPath":"/home/runner/work/acorns/acorns/posts/suziwen/2020-4-29 工作日志.zip","prev":{"title":"Setting CORS (cross-origin resource sharing) on Apache with correct response headers allowing everything through","docType":"posts","slug":"tech/setting-cors-cross-origin-resource-sharing-on-apache-with-correct-response-headers-allowing-everything-through"},"next":{"title":"Exploring Node.js Internals","docType":"posts","slug":"tech/nodejs-internals"},"pluginOptions":{"tagsPath":"/tags/","archivesPath":"/archives/","basePath":"/","commentType":"gitalk"},"basePath":"/"}},"staticQueryHashes":["2682448919","2682448919"]}