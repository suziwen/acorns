{"componentChunkName":"component---node-modules-suziwen-gatsby-theme-sculpting-src-templates-template-blog-post-js","path":"/https:/docsgooglecom/document/d/1OGIrebKWq__Lt0ADxprxapevC1BEzPaR6ry9XY_WDdA","result":{"data":{"zipFile":{"publicURL":"/acorns/static/8b2127f18ada4413fc1562c11012e1e6/利用PPTP, redsocks, iptables, https_socks5 proxy实现全局代理上网.zip"},"site":{"siteMetadata":{"siteUrl":"https://suziwen.github.io/acorns"}},"storyWriterMarkdown":{"id":"32fab7cf-779f-5674-a4aa-f567b24ebd59","html":"\n\n\t<div class=\"preview html_preview xsj_export_zip\"><div style=\"overflow: hidden; position: absolute; top: 0; height: 1px; width: auto; padding: 0; border: 0; margin: 0; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;\"><svg><defs id=\"MathJax_SVG_glyphs\"/><defs xmlns=\"http://www.w3.org/2000/svg\"><filter xmlns=\"http://www.w3.org/2000/svg\" id=\"dropshadow\" height=\"130%\">      <fegaussianblur in=\"SourceAlpha\" stddeviation=\"3\"/>       <feoffset dx=\"2\" dy=\"2\" result=\"offsetblur\"/>       <femerge>         <femergenode/>        <femergenode in=\"SourceGraphic\"/>       </femerge>    </filter><filter id=\"editing-stripe-bk\" filterunits=\"userSpaceOnUse\" x=\"-100%\" y=\"-100%\" width=\"300%\" height=\"300%\"><feflood flood-color=\"#700f0f\" result=\"flood1\"/><feflood flood-color=\"#fff\" flood-opacity=\"0.5\" result=\"flood2\"/><feimage xlink:href=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAwcHgiIGhlaWdodD0iMTAwMHB4Ij48ZGVmcz48cGF0dGVybiBpZD0icGF0dGVybiIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iMCIgeT0iMCIgd2lkdGg9IjQiIGhlaWdodD0iNCI+PHBhdGggZD0iTSAtNCAtNCBMIDggOCBNIC04IC00IEwgNCA4IE0gLTQgLTggTCA4IDQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI3BhdHRlcm4pIi8+PC9zdmc+\" x=\"0\" y=\"0\" width=\"2000\" height=\"1000\" result=\"image\"/><fetile in=\"image\" result=\"tile\"/><fecomposite operator=\"in\" in=\"flood1\" in2=\"tile\" result=\"tile2\"/><fegaussianblur in=\"SourceAlpha\" stddeviation=\"10\" result=\"blur\"/><fecomposite operator=\"in\" in=\"tile2\" in2=\"blur\" result=\"cloud\"/><femorphology operator=\"dilate\" radius=\"2\" in=\"SourceAlpha\" result=\"dilate\"/><fecomposite operator=\"in\" in=\"flood2\" in2=\"dilate\" result=\"base\"/><femerge><femergenode in=\"cloud\"/><femergenode in=\"base\"/><femergenode in=\"SourceGraphic\"/></femerge></filter></defs></svg></div><blockquote class=\"markdown_blockquote\">\n<p class=\"xsj_paragraph xsj_paragraph_level_1\"><span class=\"xsj_placeholder_span\"></span>本文为转载文章, 仅用于自己的知识管理收集, 如果涉及侵权,请联系 <a href=\"mailto:suziwen1@gmail.com\" class=\"xsj_link xsj_auto_link\">suziwen1@gmail.com</a>,会第一时间删除<br>\n收集该文章,并非代表本人支持文中观点,只是觉得文章内容容易引起思考,讨论,有它自有的价值</p>\n<p class=\"xsj_paragraph xsj_paragraph_level_1\"><span class=\"xsj_placeholder_span\"></span>转载自: <a href=\"https://docs.google.com/document/d/1OGIrebKWq__Lt0ADxprxapevC1BEzPaR6ry9XY_WDdA\" class=\"xsj_link xsj_auto_link\">https://docs.google.com/document/d/1OGIrebKWq__Lt0ADxprxapevC1BEzPaR6ry9XY_WDdA</a></p>\n</blockquote>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\"></p><div class=\"toc mindmap_toc mindmap_container\" data-vdom-skip=\"true\" data-hash=\"434c941f2b077a99c385f58c7bbb4c14_mindmap_toc\"><div class=\"xsj_mindmap xsj_mindmap_toc\"><svg id=\"xsj_mindmap_toc_1628092352442\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" class=\"xsj_svg_viewbox\" style=\"max-width:1148px;max-height:536px;\" viewbox=\"0 0 1148 536\" width=\"100%\" height=\"100%\"><g transform=\"translate(437,290) scale(1)\"><g class=\"markmap-link\" style=\"fill:none;\"><path stroke=\"#0099c6\" stroke-width=\"2\" d=\"M488,-156 L493,-156 C529,-156 524,-117 560,-117 L562,-117\"/><polygon class=\"markmap-link-polygon\" stroke-width=\"0\" transform=\"translate(488, -156)\" points=\"0,-2 5,0 0,2 -5,0\" style=\"fill: white;\"/><g transform=\"translate(560,-117)\"><path class=\"markmap-node-path\" d=\"M0,0L102,0\" stroke-width=\"2\" stroke=\"#0099c6\"/><polygon class=\"markmap-node-polygon\" stroke-width=\"0\" transform=\"translate(102, 0)\" points=\"0,-1 5,0 0,1 -5,0\" style=\"fill: rgb(0, 153, 198);\"/></g></g><g class=\"markmap-link\" style=\"fill:none;\"><path stroke=\"#0099c6\" stroke-width=\"2\" d=\"M488,-156 L493,-156 C529,-156 524,-191 560,-191 L562,-191\"/><polygon class=\"markmap-link-polygon\" stroke-width=\"0\" transform=\"translate(488, -156)\" points=\"0,-2 5,0 0,2 -5,0\" style=\"fill: white;\"/><g transform=\"translate(560,-191)\"><path class=\"markmap-node-path\" d=\"M0,0L102,0\" stroke-width=\"2\" stroke=\"#0099c6\"/><polygon class=\"markmap-node-polygon\" stroke-width=\"0\" transform=\"translate(102, 0)\" points=\"0,-1 5,0 0,1 -5,0\" style=\"fill: rgb(0, 153, 198);\"/></g></g><g class=\"markmap-link\" style=\"fill:none;\"><path stroke=\"#109618\" stroke-width=\"2\" d=\"M469,0 L474,0 C510,0 505,2 541,2 L543,2\"/><polygon class=\"markmap-link-polygon\" stroke-width=\"0\" transform=\"translate(469, 0)\" points=\"0,-2 5,0 0,2 -5,0\" style=\"fill: white;\"/><g transform=\"translate(541,2)\"><path class=\"markmap-node-path\" d=\"M0,0L120,0\" stroke-width=\"2\" stroke=\"#109618\"/><polygon class=\"markmap-node-polygon\" stroke-width=\"0\" transform=\"translate(120, 0)\" points=\"0,-1 5,0 0,1 -5,0\" style=\"fill: rgb(16, 150, 24);\"/></g></g><g class=\"markmap-link\" style=\"fill:none;\"><path stroke=\"#dc3912\" stroke-width=\"4\" d=\"M201,-39 L206,-39 C278,-39 273,156 309,156 L311,156\"/><polygon class=\"markmap-link-polygon\" stroke-width=\"0\" transform=\"translate(201, -39)\" points=\"0,-3 5,0 0,3 -5,0\" style=\"fill: white;\"/><g transform=\"translate(309,156)\"><path class=\"markmap-node-path\" d=\"M0,0L79,0\" stroke-width=\"4\" stroke=\"#dc3912\"/><polygon class=\"markmap-node-polygon\" stroke-width=\"0\" transform=\"translate(79, 0)\" points=\"0,-2 5,0 0,2 -5,0\" style=\"fill: rgb(220, 57, 18);\"/></g></g><g class=\"markmap-link\" style=\"fill:none;\"><path stroke=\"#ff9900\" stroke-width=\"4\" d=\"M201,-39 L206,-39 C278,-39 273,78 309,78 L311,78\"/><polygon class=\"markmap-link-polygon\" stroke-width=\"0\" transform=\"translate(201, -39)\" points=\"0,-3 5,0 0,3 -5,0\" style=\"fill: white;\"/><g transform=\"translate(309,78)\"><path class=\"markmap-node-path\" d=\"M0,0L107,0\" stroke-width=\"4\" stroke=\"#ff9900\"/><polygon class=\"markmap-node-polygon\" stroke-width=\"0\" transform=\"translate(107, 0)\" points=\"0,-2 5,0 0,2 -5,0\" style=\"fill: rgb(255, 153, 0);\"/></g></g><g class=\"markmap-link\" style=\"fill:none;\"><path stroke=\"#109618\" stroke-width=\"4\" d=\"M201,-39 L206,-39 C278,-39 273,0 309,0 L311,0\"/><polygon class=\"markmap-link-polygon\" stroke-width=\"0\" transform=\"translate(201, -39)\" points=\"0,-3 5,0 0,3 -5,0\" style=\"fill: white;\"/><g transform=\"translate(309,0)\"><path class=\"markmap-node-path\" d=\"M0,0L159,0\" stroke-width=\"4\" stroke=\"#109618\"/><polygon class=\"markmap-node-polygon\" stroke-width=\"0\" transform=\"translate(159, 0)\" points=\"0,-2 5,0 0,2 -5,0\" style=\"fill: rgb(16, 150, 24);\"/></g></g><g class=\"markmap-link\" style=\"fill:none;\"><path stroke=\"#990099\" stroke-width=\"4\" d=\"M201,-39 L206,-39 C278,-39 273,-78 309,-78 L311,-78\"/><polygon class=\"markmap-link-polygon\" stroke-width=\"0\" transform=\"translate(201, -39)\" points=\"0,-3 5,0 0,3 -5,0\" style=\"fill: white;\"/><g transform=\"translate(309,-78)\"><path class=\"markmap-node-path\" d=\"M0,0L119,0\" stroke-width=\"4\" stroke=\"#990099\"/><polygon class=\"markmap-node-polygon\" stroke-width=\"0\" transform=\"translate(119, 0)\" points=\"0,-2 5,0 0,2 -5,0\" style=\"fill: rgb(153, 0, 153);\"/></g></g><g class=\"markmap-link\" style=\"fill:none;\"><path stroke=\"#0099c6\" stroke-width=\"4\" d=\"M201,-39 L206,-39 C278,-39 273,-156 309,-156 L311,-156\"/><polygon class=\"markmap-link-polygon\" stroke-width=\"0\" transform=\"translate(201, -39)\" points=\"0,-3 5,0 0,3 -5,0\" style=\"fill: white;\"/><g transform=\"translate(309,-156)\"><path class=\"markmap-node-path\" d=\"M0,0L178,0\" stroke-width=\"4\" stroke=\"#0099c6\"/><polygon class=\"markmap-node-polygon\" stroke-width=\"0\" transform=\"translate(178, 0)\" points=\"0,-2 5,0 0,2 -5,0\" style=\"fill: rgb(0, 153, 198);\"/></g></g><g class=\"markmap-link\" style=\"fill:none;\"><path stroke=\"#3366cc\" stroke-width=\"4\" d=\"M201,-39 L206,-39 C278,-39 273,-234 309,-234 L311,-234\"/><polygon class=\"markmap-link-polygon\" stroke-width=\"0\" transform=\"translate(201, -39)\" points=\"0,-3 5,0 0,3 -5,0\" style=\"fill: white;\"/><g transform=\"translate(309,-234)\"><path class=\"markmap-node-path\" d=\"M0,0L79,0\" stroke-width=\"4\" stroke=\"#3366cc\"/><polygon class=\"markmap-node-polygon\" stroke-width=\"0\" transform=\"translate(79, 0)\" points=\"0,-2 5,0 0,2 -5,0\" style=\"fill: rgb(51, 102, 204);\"/></g></g><g class=\"markmap-node markmap-root-node\" transform=\"translate(-345,-39)\"><polygon class=\"markmap-node-polygon\" stroke-width=\"0\" transform=\"translate(545, 0)\" points=\"0,-3 5,0 0,3 -5,0\" style=\"fill: rgb(51, 102, 204);\"/><g transform=\"translate(1, -79)\"><rect class=\"markmap-node-rect\" rx=\"10\" ry=\"10\" height=\"158\" width=\"544\" fill=\"rgb(78, 156, 255)\" stroke=\"#3366cc\" stroke-width=\"1\"/><text class=\"markmap-node-text\" alignment-baseline=\"middle\" x=\"273\" y=\"44\" text-anchor=\"middle\" style=\"font: bolder 30px sans-serif; fill-opacity: 1; fill: rgb(255, 255, 255);\"><tspan x=\"273\" dy=\"0\">利用PPTP,</tspan><tspan x=\"273\" dy=\"30\"> redsocks,</tspan><tspan x=\"273\" dy=\"30\"> iptables,</tspan><tspan x=\"273\" dy=\"30\"> https/socks5 proxy实现全局代理上网</tspan></text></g></g><g class=\"markmap-node\" transform=\"translate(309,156)\"><a xlink:href=\"#e4bba3e79086e9858de7bdae_9\"><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 20px sans-serif; fill: rgb(220, 57, 18); stroke: white; stroke-width: 2px; cursor: pointer;\">代理配置</text><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 20px sans-serif; fill: rgb(220, 57, 18); cursor: pointer;\">代理配置</text></a></g><g class=\"markmap-node\" transform=\"translate(309,78)\"><a xlink:href=\"#iptablese8aebee7bdae_8\"><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 20px sans-serif; fill: rgb(255, 153, 0); stroke: white; stroke-width: 2px; cursor: pointer;\">iptables设置</text><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 20px sans-serif; fill: rgb(255, 153, 0); cursor: pointer;\">iptables设置</text></a></g><g class=\"markmap-node\" transform=\"translate(309,0)\"><a xlink:href=\"#redsockse5ae89e8a385e9858de7bdae_6\"><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 20px sans-serif; fill: rgb(16, 150, 24); stroke: white; stroke-width: 2px; cursor: pointer;\">redsocks安装配置</text><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 20px sans-serif; fill: rgb(16, 150, 24); cursor: pointer;\">redsocks安装配置</text></a></g><g class=\"markmap-node\" transform=\"translate(541,2)\"><a xlink:href=\"#e4b88be8bdbde7bc96e8af91redsocks_7\"><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 15px sans-serif; fill: rgb(16, 150, 24); stroke: white; stroke-width: 2px; cursor: pointer;\">下载编译redsocks</text><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 15px sans-serif; fill: rgb(16, 150, 24); cursor: pointer;\">下载编译redsocks</text></a></g><g class=\"markmap-node\" transform=\"translate(309,-78)\"><a xlink:href=\"#e9858de7bdaelinuxe7b3bbe7bb9f_5\"><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 20px sans-serif; fill: rgb(153, 0, 153); stroke: white; stroke-width: 2px; cursor: pointer;\">配置linux系统</text><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 20px sans-serif; fill: rgb(153, 0, 153); cursor: pointer;\">配置linux系统</text></a></g><g class=\"markmap-node\" transform=\"translate(309,-156)\"><a xlink:href=\"#pptpe69c8de58aa1e599a8e5ae89e8a385e9858de7bdae_2\"><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 20px sans-serif; fill: rgb(0, 153, 198); stroke: white; stroke-width: 2px; cursor: pointer;\">pptp服务器安装配置</text><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 20px sans-serif; fill: rgb(0, 153, 198); cursor: pointer;\">pptp服务器安装配置</text></a></g><g class=\"markmap-node\" transform=\"translate(560,-117)\"><a xlink:href=\"#e9858de7bdaepptpe69c8de58aa1e599a8_4\"><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 15px sans-serif; fill: rgb(0, 153, 198); stroke: white; stroke-width: 2px; cursor: pointer;\">配置pptp服务器</text><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 15px sans-serif; fill: rgb(0, 153, 198); cursor: pointer;\">配置pptp服务器</text></a></g><g class=\"markmap-node\" transform=\"translate(560,-191)\"><a xlink:href=\"#e5ae89e8a385pptpe69c8de58aa1e599a8_3\"><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 15px sans-serif; fill: rgb(0, 153, 198); stroke: white; stroke-width: 2px; cursor: pointer;\">安装pptp服务器</text><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 15px sans-serif; fill: rgb(0, 153, 198); cursor: pointer;\">安装pptp服务器</text></a></g><g class=\"markmap-node\" transform=\"translate(309,-234)\"><a xlink:href=\"#e4bdbfe794a8e59cbae699af_1\"><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 20px sans-serif; fill: rgb(51, 102, 204); stroke: white; stroke-width: 2px; cursor: pointer;\">使用场景</text><text class=\"markmap-node-text\" y=\"-5\" text-anchor=\"start\" x=\"0\" style=\"fill-opacity: 1; font: 20px sans-serif; fill: rgb(51, 102, 204); cursor: pointer;\">使用场景</text></a></g><g class=\"annotation-group\"><g class=\"annotations\"/></g></g></svg></div></div><p></p>\n<h1 class=\"xsj_heading_hash xsj_heading xsj_heading_h1\" id=\"e4bdbfe794a8e59cbae699af_1\"><div class=\"xiaoshujiang_element xsj_anchor\">\n  <a name=\"e4bdbfe794a8e59cbae699af_1\" class=\"blank_anchor_name\"></a><a id=\"e4bdbfe794a8e59cbae699af_1\" class=\"blank_anchor_id\"></a><a name=\"使用场景\" class=\"blank_anchor_name\"></a><a id=\"使用场景\" class=\"blank_anchor_id\"></a>\n</div>\n<span class=\"xsj_heading_content\">使用场景</span></h1>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">在使用代理上网的情况下，一般需要在每个应用中分别设置代理（如果应用支持代理），很难做到让所有网络流量默认都走代理。<br>\n在手机(特别是iphone)上如果不使用VPN，仅通过https或socks5代理也是很难实现类似VPN的全局代理功能。</p>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\"></p><div class=\"story_image_container story_block_image\"><div class=\"story_image\"><div class=\"gatsby-wrapper-image\" style=\"display:inline-block;max-width: 100%;width:705px; margin-left: auto; margin-right: auto;position:relative;\"><div style=\"width:100%;display:block;padding-bottom: 46.09375%;\"></div><img class=\"background_image\" src=\"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='400'%20height='185'%3e%3cpath%20d='M98%2058v25H47V69c0-20%201-19-23-19-18%200-22%201-23%205v59c1%204%205%205%2023%205%2017%200%2021-1%2022-5l1-15V85h51v26l1%2027h146V85h10l11%201h1l11-1h11v45h111V39H289v44h-44V32H98v26m2%200l1%2025%201-5c0-9%201-9%2020-9%2019%201%2018%200%2017%2017-1%2014%200%2014-11%2014h-8v16h24v-6l1-6%2023-1h24v13h29v-5c0-5%200-6-2-6-4%200-9-2-13-6-17-15-2-40%2020-34%207%202%2015%2010%2015%2016l1%202%201-25V33H100v25m190%2027v44h109V40H290v45M3%2054l-2%201a357%20357%200%20002%2060c2%202%204%202%2021%202%2024%200%2022%203%2022-32%200-24%200-29-2-31-2-3-38-3-41%200m207%2014c-14%207-13%2027%201%2033%2019%209%2038-14%2024-28-6-7-16-9-25-5m-105%203l-1%2014c0%2015-1%2014%2017%2014s17%201%2017-14c0-16%201-15-17-15l-16%201m-5%2040v25h143v-26c0-16%200-25-1-24l-1%202c0%205-8%2014-15%2016l-4%201v13h-30v12h-48v-12h-26v-18h-6c-8%200-10-2-10-10l-1-5-1%2026m46%206v12h45v-24h-45v12m13-1h-3c-1-2-3%200-3%202s1%202%202%202h25c2%201%204-1%203-3h-3l1%201v1c-2%200-2-1-2-2l-1-2h-2l-4%201h-7l-2-1h-1c0-1-2-1-3%201'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e\" style=\"position: absolute;top:0;left:0;width: 100%;height:100%;object-fit: cover;object-position: center;\"><img src=\"/acorns/static/6fb2515aa2798f9003329436ab5585e3/d2cbc/%E5%88%A9%E7%94%A8PPTP%2C_redsocks%2C_iptables%2C_https_socks5_proxy%E5%AE%9E%E7%8E%B0%E5%85%A8%E5%B1%80%E4%BB%A3%E7%90%86%E4%B8%8A%E7%BD%91.png\" data-vdom-skip=\"true\" data-vdom-cache=\"true\" alt=\"利用PPTP, redsocks, iptables, https_socks5 proxy实现全局代理上网\" title=\"利用PPTP, redsocks, iptables, https_socks5 proxy实现全局代理上网\" name=\"images/利用PPTP,_redsocks,_iptables,_https_socks5_proxy实现全局代理上网.png\" data-src=\"./images/%E5%88%A9%E7%94%A8PPTP,_redsocks,_iptables,_https_socks5_proxy%E5%AE%9E%E7%8E%B0%E5%85%A8%E5%B1%80%E4%BB%A3%E7%90%86%E4%B8%8A%E7%BD%91.png\" class=\"front_image\" loading=\"lazy\" srcSet=\"/acorns/static/6fb2515aa2798f9003329436ab5585e3/6f3f2/%E5%88%A9%E7%94%A8PPTP%2C_redsocks%2C_iptables%2C_https_socks5_proxy%E5%AE%9E%E7%8E%B0%E5%85%A8%E5%B1%80%E4%BB%A3%E7%90%86%E4%B8%8A%E7%BD%91.png 256w,\n/acorns/static/6fb2515aa2798f9003329436ab5585e3/01e7c/%E5%88%A9%E7%94%A8PPTP%2C_redsocks%2C_iptables%2C_https_socks5_proxy%E5%AE%9E%E7%8E%B0%E5%85%A8%E5%B1%80%E4%BB%A3%E7%90%86%E4%B8%8A%E7%BD%91.png 512w,\n/acorns/static/6fb2515aa2798f9003329436ab5585e3/d2cbc/%E5%88%A9%E7%94%A8PPTP%2C_redsocks%2C_iptables%2C_https_socks5_proxy%E5%AE%9E%E7%8E%B0%E5%85%A8%E5%B1%80%E4%BB%A3%E7%90%86%E4%B8%8A%E7%BD%91.png 705w\" sizes=\"(max-width: 705px) 100vw, 705px\" data-action=\"zoom\" style=\"max-width: 100%;position: absolute;top:0;left:0;width: 100%;height:100%;object-fit: cover;object-position: center;\"></div><br><div class=\"story_image_caption \">利用PPTP, redsocks, iptables, https_socks5 proxy实现全局代理上网</div></div></div><p></p>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">这里linux pc使用ubuntu 14.04, vpn使用pptp, proxy使用socks5</p>\n<h1 class=\"xsj_heading_hash xsj_heading xsj_heading_h1\" id=\"pptpe69c8de58aa1e599a8e5ae89e8a385e9858de7bdae_2\"><div class=\"xiaoshujiang_element xsj_anchor\">\n  <a name=\"pptpe69c8de58aa1e599a8e5ae89e8a385e9858de7bdae_2\" class=\"blank_anchor_name\"></a><a id=\"pptpe69c8de58aa1e599a8e5ae89e8a385e9858de7bdae_2\" class=\"blank_anchor_id\"></a><a name=\"pptp服务器安装配置\" class=\"blank_anchor_name\"></a><a id=\"pptp服务器安装配置\" class=\"blank_anchor_id\"></a>\n</div>\n<span class=\"xsj_heading_content\">pptp服务器安装配置</span></h1>\n<h2 class=\"xsj_heading_hash xsj_heading xsj_heading_h2\" id=\"e5ae89e8a385pptpe69c8de58aa1e599a8_3\"><div class=\"xiaoshujiang_element xsj_anchor\">\n  <a name=\"e5ae89e8a385pptpe69c8de58aa1e599a8_3\" class=\"blank_anchor_name\"></a><a id=\"e5ae89e8a385pptpe69c8de58aa1e599a8_3\" class=\"blank_anchor_id\"></a><a name=\"安装pptp服务器\" class=\"blank_anchor_name\"></a><a id=\"安装pptp服务器\" class=\"blank_anchor_id\"></a>\n</div>\n<span class=\"xsj_heading_content\">安装pptp服务器</span></h2>\n<div class=\"xiaoshujiang_code_container\"><div data-processed=\"true\" class=\"xiaoshujiang_pre\"><div class=\"language-shell hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span><span class=\"hljs-meta\">$</span><span class=\"bash\"> sudo apt-get install pptpd</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">执行完上面命令后pptp服务器就安装好了，下面主要就是配置了。</p>\n<h2 class=\"xsj_heading_hash xsj_heading xsj_heading_h2\" id=\"e9858de7bdaepptpe69c8de58aa1e599a8_4\"><div class=\"xiaoshujiang_element xsj_anchor\">\n  <a name=\"e9858de7bdaepptpe69c8de58aa1e599a8_4\" class=\"blank_anchor_name\"></a><a id=\"e9858de7bdaepptpe69c8de58aa1e599a8_4\" class=\"blank_anchor_id\"></a><a name=\"配置pptp服务器\" class=\"blank_anchor_name\"></a><a id=\"配置pptp服务器\" class=\"blank_anchor_id\"></a>\n</div>\n<span class=\"xsj_heading_content\">配置pptp服务器</span></h2>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">编辑<code>/etc/pptpd.conf</code>，增加以下两行：</p>\n<div class=\"xiaoshujiang_code_container\"><div data-processed=\"true\" class=\"xiaoshujiang_pre\"><div class=\"nohighlight hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span>localip 192.168.0.1<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"2\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">2</span>remoteip 192.168.0.234-238,192.168.0.245<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">这里localip指pptp服务端的IP, remoteip是客户端连接后分配的IP范围。</p>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">编辑/etc/ppp/chap-secrets，设置pptp认证信息，在最后面新增一行：</p>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">vpn\tpptpd\t\t123456\t*</p>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">这里vpn是用户名，pptpd是vpn类型，可以设置为*，123456是密码，最后一个*表示接收任何IP的连接。</p>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">编辑<code>/etc/ppp/pptpd-options</code>，添加DNS服务器：</p>\n<div class=\"xiaoshujiang_code_container\"><div data-processed=\"true\" class=\"xiaoshujiang_pre\"><div class=\"nohighlight hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span>ms-dns 8.8.8.8<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"2\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">2</span>ms-dns 8.8.4.4<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">这里使用google的公共dns服务器，也可以指定你自己的dns服务器。</p>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">最后重启pptp服务器使以上设置生效：</p>\n<div class=\"xiaoshujiang_code_container\"><div data-processed=\"true\" class=\"xiaoshujiang_pre\"><div class=\"language-shell hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span><span class=\"hljs-meta\">$</span><span class=\"bash\"> sudo service pptpd restart</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">查看一下pptp服务是否正在运行：</p>\n<div class=\"xiaoshujiang_code_container\"><div data-processed=\"true\" class=\"xiaoshujiang_pre\"><div class=\"language-shell hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span><span class=\"hljs-meta\">$</span><span class=\"bash\"> netstat -tlnp | grep 1723</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">出现类似以下信息说明pptp服务正在运行</p>\n<div class=\"xiaoshujiang_code_container\"><div data-processed=\"true\" class=\"xiaoshujiang_pre\"><div class=\"nohighlight hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span>tcp        0      0 0.0.0.0:1723            0.0.0.0:*               LISTEN      -<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<h1 class=\"xsj_heading_hash xsj_heading xsj_heading_h1\" id=\"e9858de7bdaelinuxe7b3bbe7bb9f_5\"><div class=\"xiaoshujiang_element xsj_anchor\">\n  <a name=\"e9858de7bdaelinuxe7b3bbe7bb9f_5\" class=\"blank_anchor_name\"></a><a id=\"e9858de7bdaelinuxe7b3bbe7bb9f_5\" class=\"blank_anchor_id\"></a><a name=\"配置linux系统\" class=\"blank_anchor_name\"></a><a id=\"配置linux系统\" class=\"blank_anchor_id\"></a>\n</div>\n<span class=\"xsj_heading_content\">配置linux系统</span></h1>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">编辑<code>/etc/sysctl.conf</code>，增加一行：</p>\n<div class=\"xiaoshujiang_code_container\"><div data-processed=\"true\" class=\"xiaoshujiang_pre\"><div class=\"nohighlight hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span>net.ipv4.ip_forward=1<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">使修改生效：</p>\n<div class=\"xiaoshujiang_code_container\"><div data-processed=\"true\" class=\"xiaoshujiang_pre\"><div class=\"language-shell hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span><span class=\"hljs-meta\">$</span><span class=\"bash\"> sudo sysctl -p</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">到此为止，pptp服务端就配置完了，可以使用手机测试一下。</p>\n<h1 class=\"xsj_heading_hash xsj_heading xsj_heading_h1\" id=\"redsockse5ae89e8a385e9858de7bdae_6\"><div class=\"xiaoshujiang_element xsj_anchor\">\n  <a name=\"redsockse5ae89e8a385e9858de7bdae_6\" class=\"blank_anchor_name\"></a><a id=\"redsockse5ae89e8a385e9858de7bdae_6\" class=\"blank_anchor_id\"></a><a name=\"redsocks安装配置\" class=\"blank_anchor_name\"></a><a id=\"redsocks安装配置\" class=\"blank_anchor_id\"></a>\n</div>\n<span class=\"xsj_heading_content\">redsocks安装配置</span></h1>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">redsocks可以配置linux下的iptables实现TCP连接的重定向功能<br>\n项目介绍：<a href=\"http://darkk.net.ru/redsocks/\" class=\"xsj_link xsj_auto_link\">http://darkk.net.ru/redsocks/</a><br>\n项目源码：<a href=\"https://github.com/darkk/redsocks\" class=\"xsj_link xsj_auto_link\">https://github.com/darkk/redsocks</a></p>\n<h2 class=\"xsj_heading_hash xsj_heading xsj_heading_h2\" id=\"e4b88be8bdbde7bc96e8af91redsocks_7\"><div class=\"xiaoshujiang_element xsj_anchor\">\n  <a name=\"e4b88be8bdbde7bc96e8af91redsocks_7\" class=\"blank_anchor_name\"></a><a id=\"e4b88be8bdbde7bc96e8af91redsocks_7\" class=\"blank_anchor_id\"></a><a name=\"下载编译redsocks\" class=\"blank_anchor_name\"></a><a id=\"下载编译redsocks\" class=\"blank_anchor_id\"></a>\n</div>\n<span class=\"xsj_heading_content\">下载编译redsocks</span></h2>\n<div class=\"xiaoshujiang_code_container\"><div data-processed=\"true\" class=\"xiaoshujiang_pre\"><div class=\"language-shell hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span><span class=\"hljs-meta\">$</span><span class=\"bash\"> git <span class=\"hljs-built_in\">clone</span> https://github.com/darkk/redsocks.git</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"2\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">2</span><span class=\"hljs-meta\">$</span><span class=\"bash\"> <span class=\"hljs-built_in\">cd</span> redsocks</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"3\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">3</span><span class=\"hljs-meta\">$</span><span class=\"bash\"> sudo apt-get install libevent-dev</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"4\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">4</span><span class=\"hljs-meta\">$</span><span class=\"bash\"> make</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">没有错误的话会生成一个名为redsocks的可执行文件。</p>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">新建一个redsocks配置文件<code>redsocks.conf</code>，内容如下：</p>\n<div class=\"xiaoshujiang_code_container\"><div data-processed=\"true\" class=\"xiaoshujiang_pre\"><div class=\"nohighlight hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span>base {<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"2\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">2</span>\tlog_debug = on; <span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"3\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">3</span>\tlog_info = on; <span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"4\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">4</span>\tlog = \"file:/tmp/reddi.log\"; <span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"5\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">5</span>\tdaemon = on; <span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"6\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">6</span>\tredirector = iptables;<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"7\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">7</span>}<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"8\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">8</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"9\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">9</span>redsocks { <span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"10\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">10</span>\tlocal_ip = 0.0.0.0; <span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"11\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">11</span>\tlocal_port = 31338; <span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"12\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">12</span>\tip = 127.0.0.1; <span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"13\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">13</span>\tport = 8899; <span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"14\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">14</span>\ttype = socks5; <span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"15\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">15</span>}<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">这里的local_ip, local_port是redsocks服务的监听地址，ip, port为代理的地址，type指定代理类型。</p>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">运行redsocks:</p>\n<div class=\"xiaoshujiang_code_container\"><div data-processed=\"true\" class=\"xiaoshujiang_pre\"><div class=\"language-shell hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span><span class=\"hljs-meta\">$</span><span class=\"bash\"> ./redsocks -c redsocks.conf</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">因为在配置文件里面指定了后台运行(daemon=on)，所以执行以上命令后会直接出现命令行提示符，不会阻塞。</p>\n<h1 class=\"xsj_heading_hash xsj_heading xsj_heading_h1\" id=\"iptablese8aebee7bdae_8\"><div class=\"xiaoshujiang_element xsj_anchor\">\n  <a name=\"iptablese8aebee7bdae_8\" class=\"blank_anchor_name\"></a><a id=\"iptablese8aebee7bdae_8\" class=\"blank_anchor_id\"></a><a name=\"iptables设置\" class=\"blank_anchor_name\"></a><a id=\"iptables设置\" class=\"blank_anchor_id\"></a>\n</div>\n<span class=\"xsj_heading_content\">iptables设置</span></h1>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">下面是最复杂也是最容易出问题的环节</p>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">新建文件<code>ipt.conf</code>，内容如下：</p>\n<div class=\"xiaoshujiang_code_container\"><div data-processed=\"true\" class=\"xiaoshujiang_pre\"><div class=\"nohighlight hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span>*filter<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"2\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">2</span>:INPUT ACCEPT<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"3\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">3</span>:FORWARD ACCEPT<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"4\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">4</span>:OUTPUT ACCEPT<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"5\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">5</span>COMMIT<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"6\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">6</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"7\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">7</span>*nat<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"8\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">8</span>:PREROUTING ACCEPT<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"9\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">9</span>:INPUT ACCEPT<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"10\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">10</span>:OUTPUT ACCEPT<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"11\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">11</span>:POSTROUTING ACCEPT<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"12\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">12</span># Create new chain<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"13\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">13</span>:REDSOCKS - <span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"14\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">14</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"15\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">15</span>-A PREROUTING -i ppp+ -p tcp -j REDIRECT --to 31338<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"16\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">16</span># -A PREROUTING -i ppp+ -p udp --dport 53 -j DNAT --to 192.168.1.1:53<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"17\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">17</span># -A INPUT -p tcp --dport 1723 -j ACCEPT<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"18\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">18</span># -A INPUT -p tcp --dport 47 -j ACCEPT<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"19\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">19</span># -A INPUT -p gre -j ACCEPT<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"20\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">20</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"21\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">21</span># Ignore LANs and some other reserved addresses.<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"22\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">22</span># See http://en.wikipedia.org/wiki/Reserved_IP_addresses#Reserved_IPv4_addresses<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"23\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">23</span># and http://tools.ietf.org/html/rfc5735 for full list of reserved networks.<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"24\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">24</span>-A REDSOCKS -d 0.0.0.0/8 -j RETURN<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"25\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">25</span>-A REDSOCKS -d 10.0.0.0/8 -j RETURN<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"26\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">26</span>-A REDSOCKS -d 127.0.0.0/8 -j RETURN<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"27\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">27</span>-A REDSOCKS -d 169.254.0.0/16 -j RETURN<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"28\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">28</span>-A REDSOCKS -d 172.24.0.0/16  -j RETURN<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"29\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">29</span>-A REDSOCKS -d 192.168.0.0/16 -j RETURN<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"30\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">30</span>-A REDSOCKS -d 224.0.0.0/4 -j RETURN<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"31\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">31</span>-A REDSOCKS -d 240.0.0.0/4 -j RETURN<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"32\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">32</span># Anything else should be redirected to port 31338<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"33\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">33</span># -A REDSOCKS -p tcp -o eth0 -j DNAT --to 127.0.0.1:31338<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"34\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">34</span>-A REDSOCKS -p tcp -j REDIRECT --to 31338<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"35\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">35</span>-A OUTPUT -p tcp -j REDSOCKS<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"36\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">36</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"37\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">37</span>-A POSTROUTING -s 192.168.0.0/24 -o eth0 -j MASQUERADE<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li><li class=\"li_linenum \" date-linenum=\"38\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">38</span>COMMIT<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">是不是很复杂，当然如果你很了解iptables，这就是小菜一碟了。<br>\n如果你的系统本身配置了iptables，请根据自身网络情况适当修改。</p>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">在上面的配置文件中，有几个方面需要注意：</p>\n<ol class=\"markdown_ol\">\n<li><span class=\"xsj_placeholder_span\"></span>如果你在配置vpn时，将dns设置为8.8.8.8和8.8.4.4，且你的系统又无法访问此dns服务器，这时就要设置dns转发了：</li>\n</ol>\n<div class=\"xiaoshujiang_code_container\"><div data-processed=\"true\" class=\"xiaoshujiang_pre\"><div class=\"nohighlight hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span>-A PREROUTING -i ppp+ -p udp --dport 53 -j DNAT --to 192.168.1.1:53<span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">这里的<code>--to 192.168.1.1:53</code>就是用来设置转发到的dns服务器地址。</p>\n<ol start=\"2\" style=\"counter-reset: my-awesome-counter 1;\" class=\"markdown_ol\">\n<li><span class=\"xsj_placeholder_span\"></span>配置中的eth0为系统访问外网的接口，一般情况下为eth0，当有多个接口时会出现eth1, eth2等等，可以通过<br>\nifconfig命令查看自己使用的是哪个接口。</li>\n</ol>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">应用iptable设置：</p>\n<div class=\"xiaoshujiang_code_container\"><div data-processed=\"true\" class=\"xiaoshujiang_pre\"><div class=\"language-shell hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span><span class=\"hljs-meta\">$</span><span class=\"bash\"> sudo iptables-restore &lt; ipt.conf</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">执行完以上命令后配置中方的iptables规则就会立即生效了，可以通过以下命令确认：</p>\n<div class=\"xiaoshujiang_code_container\"><div data-processed=\"true\" class=\"xiaoshujiang_pre\"><div class=\"language-shell hljs code_linenums xiaoshujiang_code\"><ol start=\"1\" class=\"ol_linenums\" style=\"counter-reset: lines 0;\"><li class=\"li_linenum \" date-linenum=\"1\"><span class=\"li_linenum_before_span li_linenum_before_span_hide\">1</span><span class=\"hljs-meta\">$</span><span class=\"bash\"> sudo iptables-save</span><span style=\"user-select:none;display:none;\">&nbsp;</span><br class=\"code_line_break_hack_br\"><hr class=\"code_line_break_hack_hr code_line_break_hack\" style=\"margin:0;border:0;border-top:0;border-bottom:0;\"></li></ol></div></div></div>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">看看输出结果是否与ipt.conf中的一致。</p>\n<h1 class=\"xsj_heading_hash xsj_heading xsj_heading_h1\" id=\"e4bba3e79086e9858de7bdae_9\"><div class=\"xiaoshujiang_element xsj_anchor\">\n  <a name=\"e4bba3e79086e9858de7bdae_9\" class=\"blank_anchor_name\"></a><a id=\"e4bba3e79086e9858de7bdae_9\" class=\"blank_anchor_id\"></a><a name=\"代理配置\" class=\"blank_anchor_name\"></a><a id=\"代理配置\" class=\"blank_anchor_id\"></a>\n</div>\n<span class=\"xsj_heading_content\">代理配置</span></h1>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">可以使用任何标准的https, socks5代理，例如shadowsocks, gost等，客户端的监听地址需要与redsocks配置中的ip, port一致。</p>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">OK</p>\n<p class=\"xsj_paragraph xsj_paragraph_level_0\">DONE！<br>\n如果你成功走到了这里，恭喜你，你可以让你的手机，PC无障碍的通过代理全局上网了。</p>\n</div>\n\n","excerpt":"在使用代理上网的情况下，一般需要在每个应用中分别设置代理（如果应用支持代理），很难做到让所有网络流量默认都走代理。\n在手机(特别是iphone)上如果不使用VPN，仅通过https或socks5代理也是很难实现类似VPN的全局代理功能。 \n这里linux pc使用ubuntu 14...","docType":"posts","slug":"https:/docsgooglecom/document/d/1OGIrebKWq__Lt0ADxprxapevC1BEzPaR6ry9XY_WDdA","title":"利用PPTP, redsocks, iptables, https/socks5 proxy实现全局代理上网","customCss":"","createDate":"August 04, 2021","updateDate":"August 04, 2021","tags":["技术","vpn","代理","翻墙"]}},"pageContext":{"slug":"https:/docsgooglecom/document/d/1OGIrebKWq__Lt0ADxprxapevC1BEzPaR6ry9XY_WDdA","zipPath":"/home/runner/work/acorns/acorns/posts/net/利用PPTP, redsocks, iptables, https_socks5 proxy实现全局代理上网.zip","prev":{"title":"How to install and configure Redsocks on Centos Linux","docType":"posts","slug":"https:/crospnet/blog/administration/install-configure-redsocks-proxy-centos-linux"},"next":{"title":"丰子恺的处世哲学：羡他村落无盐女，不宠无惊过一生","docType":"posts","slug":"https:/wwwsohucom/a/253977486_488632"},"pluginOptions":{"tagsPath":"/tags/","archivesPath":"/archives/","basePath":"/","commentType":"gitalk"},"basePath":"/"}},"staticQueryHashes":["2682448919","2682448919"]}